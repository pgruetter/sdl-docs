<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.68">
<title data-react-helmet="true">Hocon Configurations | Smart Data Lake Builder</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_language" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Hocon Configurations | Smart Data Lake Builder"><meta data-react-helmet="true" name="description" content="This page is under review and currently not visible in the menu."><meta data-react-helmet="true" property="og:description" content="This page is under review and currently not visible in the menu."><meta data-react-helmet="true" property="og:url" content="https://pgruetter.github.io/sdl-docs/docs/reference/hoconOverview"><link data-react-helmet="true" rel="shortcut icon" href="/sdl-docs/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://pgruetter.github.io/sdl-docs/docs/reference/hoconOverview"><link rel="stylesheet" href="/sdl-docs/styles.544fbe57.css">
<link rel="preload" href="/sdl-docs/styles.9f6a0338.js" as="script">
<link rel="preload" href="/sdl-docs/runtime~main.0039e60e.js" as="script">
<link rel="preload" href="/sdl-docs/main.e121cc6e.js" as="script">
<link rel="preload" href="/sdl-docs/1.f3494e66.js" as="script">
<link rel="preload" href="/sdl-docs/46.e6127c66.js" as="script">
<link rel="preload" href="/sdl-docs/47.2f88f8f5.js" as="script">
<link rel="preload" href="/sdl-docs/935f2afb.23e4ea58.js" as="script">
<link rel="preload" href="/sdl-docs/45.ee66667a.js" as="script">
<link rel="preload" href="/sdl-docs/9f9ff85d.a9596a1a.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_2AhQ">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/sdl-docs/"><img src="/sdl-docs/img/sdl_logo.png" alt="Smart Data Lake Logo" class="themedImage_2E_h themedImage--light_AouX navbar__logo"><img alt="Smart Data Lake Logo" class="themedImage_2E_h themedImage--dark_1YPN navbar__logo"><strong class="navbar__title">Smart Data Lake</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/sdl-docs/docs/">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/smart-data-lake/smart-data-lake" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/sdl-docs/"><img src="/sdl-docs/img/sdl_logo.png" alt="Smart Data Lake Logo" class="themedImage_2E_h themedImage--light_AouX navbar__logo"><img alt="Smart Data Lake Logo" class="themedImage_2E_h themedImage--dark_1YPN navbar__logo"><strong class="navbar__title">Smart Data Lake</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/sdl-docs/docs/">Docs</a></li><li class="menu__list-item"><a href="https://github.com/smart-data-lake/smart-data-lake" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_39qw"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Hocon Configurations</h1></header><div class="markdown"><div class="admonition admonition-warning alert alert--danger"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>warning</h5></div><div class="admonition-content"><p>This page is under review and currently not visible in the menu.</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="overview"></a>Overview<a aria-hidden="true" class="hash-link" href="#overview" title="Direct link to heading">#</a></h2><p>The configuration files are stored in the <a href="https://github.com/lightbend/config/blob/master/HOCON.md" target="_blank" rel="noopener noreferrer">HOCON</a> file format.
The main sections are global, connections, data objects and actions.
As a starting point, use the <a href="https://github.com/smart-data-lake/sdl-examples/blob/develop/src/main/resources/application.conf" target="_blank" rel="noopener noreferrer">application.conf</a> from SDL-examples.
More details and options are described below.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="global-options"></a>Global Options<a aria-hidden="true" class="hash-link" href="#global-options" title="Direct link to heading">#</a></h3><p>In the global section of the configuration you can set global configurations such as spark options used by all executions.
You can find a list of all configurations under <a href="https://smartdatalake.ch/docs/site/scaladocs/io/smartdatalake/app/GlobalConfig.html" target="_blank" rel="noopener noreferrer">API docs</a>.<br>
A good list with examples can be found in the <a href="https://github.com/smart-data-lake/sdl-examples/blob/develop/src/main/resources/application.conf" target="_blank" rel="noopener noreferrer">application.conf</a> of sdl-examples.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="secrets-user-and-password-variables"></a>Secrets User and Password Variables<a aria-hidden="true" class="hash-link" href="#secrets-user-and-password-variables" title="Direct link to heading">#</a></h3><p>TODO:
Mention Azure Key Vault here or at least point to the Azure specific doc to be created.</p><p>Usernames, passwords and other secrets should not be stored in your configuration files in clear text as these files are often stored directly in the version control system.
They should also not be visible in logfiles after execution.</p><p>Instead of having the username and password configured directly in your configuration files, you can use secret providers
for configuration values that end with <code>...Variable</code>, like BasicAuthMode&#x27;s userVariable and passwordVariable.
To configure a secret use the convention <code>&amp;ltSecretProviderId&amp;gt#&amp;ltSecretName&amp;gt</code>.</p><p>Default secret providers are:</p><table><thead><tr><th>SecretProviderId</th><th>Pattern</th><th>Meaning</th></tr></thead><tbody><tr><td>CLEAR</td><td>CLEAR#pd</td><td>The secret will be used literally (cleartext). This is only recommended for test environments.</td></tr><tr><td>ENV</td><td>ENV#pd</td><td>The value for this secret will be read from the environment variable called &quot;pd&quot;.</td></tr></tbody></table><p>You can configure custom secret providers by providing a list of secret providers with custom options and their id in GlobalConfig as follows:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">global {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  secretProviders {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &amp;ltsecretProviderId&amp;gt = {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     className = &amp;ltfully qualified class name of SecretProvider&amp;gt</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     options = { &amp;ltoptions as key/value&amp;gt }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>Example: configure DatabricksSecretProvider with id=DBSECRETS and scope=test (scope is a specific configuration needed for accessing secrets in Databricks).</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">global {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  secretProviders {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    DBSECRETS = {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     className = io.smartdatalake.util.secrets.DatabricksSecretProvider</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     options = { scope = test }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>You can create custom SecretProvider classes by implementing trait SecretProvider and a constructor with parameter <code>options: Map[String,String]</code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="local-substitution"></a>Local substitution<a aria-hidden="true" class="hash-link" href="#local-substitution" title="Direct link to heading">#</a></h3><p>Local substitution allows to reuse the id of a configuration object inside its attribute definitions by the special token &quot;~{id}&quot;. See the following example:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">dataObjects {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  dataXY {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    type = HiveTableDataObject</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    path = &quot;/data/~{id}&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    table {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      db = &quot;default&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      name = &quot;~{id}&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>Note: local substitution only works in a fixed set of attributes defined in Environment.configPathsForLocalSubstitution.</p></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_ thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link">Overview</a><ul><li><a href="#global-options" class="table-of-contents__link">Global Options</a></li><li><a href="#secrets-user-and-password-variables" class="table-of-contents__link">Secrets User and Password Variables</a></li><li><a href="#local-substitution" class="table-of-contents__link">Local substitution</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/sdl-docs/docs/">Getting started</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/smart-data-lake/smart-data-lake" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a href="https://github.com/smart-data-lake/smart-data-lake/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub Issues</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://www.elca.ch" target="_blank" rel="noopener noreferrer" class="footer__link-item">ELCA</a></li></ul></div></div><div class="text--center"><div>Copyright Â© 2022 Smart Data Lake, Built with Docusaurus.</div></div></div></footer></div>
<script src="/sdl-docs/styles.9f6a0338.js"></script>
<script src="/sdl-docs/runtime~main.0039e60e.js"></script>
<script src="/sdl-docs/main.e121cc6e.js"></script>
<script src="/sdl-docs/1.f3494e66.js"></script>
<script src="/sdl-docs/46.e6127c66.js"></script>
<script src="/sdl-docs/47.2f88f8f5.js"></script>
<script src="/sdl-docs/935f2afb.23e4ea58.js"></script>
<script src="/sdl-docs/45.ee66667a.js"></script>
<script src="/sdl-docs/9f9ff85d.a9596a1a.js"></script>
</body>
</html>