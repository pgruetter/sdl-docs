<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.68">
<title data-react-helmet="true">Get Airports | Smart Data Lake Builder</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_language" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Get Airports | Smart Data Lake Builder"><meta data-react-helmet="true" name="description" content="Goal"><meta data-react-helmet="true" property="og:description" content="Goal"><meta data-react-helmet="true" property="og:url" content="https://pgruetter.github.io/sdl-docs/docs/getting-started/get-airports"><link data-react-helmet="true" rel="shortcut icon" href="/sdl-docs/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://pgruetter.github.io/sdl-docs/docs/getting-started/get-airports"><link rel="stylesheet" href="/sdl-docs/styles.1bc85f62.css">
<link rel="preload" href="/sdl-docs/styles.0d373285.js" as="script">
<link rel="preload" href="/sdl-docs/runtime~main.62826e6e.js" as="script">
<link rel="preload" href="/sdl-docs/main.2f23556c.js" as="script">
<link rel="preload" href="/sdl-docs/1.f3842da1.js" as="script">
<link rel="preload" href="/sdl-docs/29.75129747.js" as="script">
<link rel="preload" href="/sdl-docs/30.34993a47.js" as="script">
<link rel="preload" href="/sdl-docs/935f2afb.b9ea6650.js" as="script">
<link rel="preload" href="/sdl-docs/28.5de40dea.js" as="script">
<link rel="preload" href="/sdl-docs/3e802625.9149d016.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_2AhQ">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/sdl-docs/"><img src="/sdl-docs/img/sdl_logo.png" alt="Smart Data Lake Logo" class="themedImage_2E_h themedImage--light_AouX navbar__logo"><img alt="Smart Data Lake Logo" class="themedImage_2E_h themedImage--dark_1YPN navbar__logo"><strong class="navbar__title">Smart Data Lake</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/sdl-docs/docs/">Docs</a><a class="navbar__item navbar__link" href="/sdl-docs/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/smart-data-lake/smart-data-lake" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/sdl-docs/"><img src="/sdl-docs/img/sdl_logo.png" alt="Smart Data Lake Logo" class="themedImage_2E_h themedImage--light_AouX navbar__logo"><img alt="Smart Data Lake Logo" class="themedImage_2E_h themedImage--dark_1YPN navbar__logo"><strong class="navbar__title">Smart Data Lake</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/sdl-docs/docs/">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/sdl-docs/blog">Blog</a></li><li class="menu__list-item"><a href="https://github.com/smart-data-lake/smart-data-lake" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive thin-scrollbar menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Smart Data Lake</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/sdl-docs/docs/">Introduction</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Getting Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/sdl-docs/docs/getting-started/setup">Technical Setup</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/sdl-docs/docs/getting-started/get-input-data">Inputs</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">Part 1</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/sdl-docs/docs/getting-started/get-departures">Get Departures</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/sdl-docs/docs/getting-started/get-airports">Get Airports</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/sdl-docs/docs/getting-started/select-columns">Select Columns</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/sdl-docs/docs/getting-started/joining-it-together">Joining It Together</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/sdl-docs/docs/getting-started/joining-departures-and-arrivals">Get Departure Coordinates</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/sdl-docs/docs/getting-started/compute-distances">Compute Distances</a></li></ul></li></ul></li></ul></div><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_2Tub"></button></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_39qw"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Get Airports</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="goal"></a>Goal<a aria-hidden="true" class="hash-link" href="#goal" title="Direct link to heading">#</a></h2><p>In this step, we will download airports master data from the website described in <a href="/sdl-docs/docs/getting-started/setup">setup</a> using Smart Data Lake Builder.
Because this step is very similar to the previous one, we will make some &quot;mistake&quot; on purpose to demonstrate how to deal with config errors.</p><p>Just like in the previous step, we need one action and two DataObjects.
Except for the object and action names, the config to add here is almost identical to the previous step.</p><p>You are welcome to try to implement it yourself before continuing.
Just as in the previous step, you can use &quot;download&quot; as feed name.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="solution"></a>Solution<a aria-hidden="true" class="hash-link" href="#solution" title="Direct link to heading">#</a></h2><p>You should now have a file similar to <a target="_blank" href="/sdl-docs/assets/files/application-download-part1-179e0e0ac63d44c55017a80369c8fe4b.conf">this</a> one.
The only notable difference is that you had to use the type <strong>CsvFileDataObject</strong> for the airports.csv file,
since this is what the second webservice answers with.
Note that you would not get an error at this point if you had chosen another file format.
Since we use <em>FileTransferAction</em> in both cases, the files are copied without the content being interpreted yet.</p><p>You can start the same <em>docker run</em> command as before and you should see that both directories
<em>stg-airports</em> and <em>stg-departures</em> have new files now.
Notice that since both actions have the same feed, the option <em>--feed-sel download</em> executes both of them.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="mess-up-the-solution"></a>Mess Up the Solution<a aria-hidden="true" class="hash-link" href="#mess-up-the-solution" title="Direct link to heading">#</a></h2><p>Now let&#x27;s see what happens when things don&#x27;t go as planned.
For that, replace your config file with the contents of <a target="_blank" href="/sdl-docs/assets/files/application-download-part1-errors-74ebabfa42f1bdca0663ac28c2a593f1.conf">this</a> file.
When you start the <em>docker run</em> command again, you will see two errors:</p><ol><li>The name of the DataObject &quot;NOPEext-departures&quot; does not match with the inputId of the action download-departures.
This is a very common error and the stacktrace should help you to quickly find and correct it</li></ol><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Exception in thread &quot;main&quot; io.smartdatalake.config.ConfigurationException: (Action~download-departures) [] key not found: DataObject~ext-departures</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>As noted before, SDL will often use Action-IDs and DataObject-IDs to communicate where to look in your configuration files.</p><ol start="2"><li>An unknown DataObject type was used. In this example, stg-airports was assigned the type UnicornFileDataObject, which does not exist.</li></ol><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Exception in thread &quot;main&quot; io.smartdatalake.config.ConfigurationException: (DataObject~stg-airports) ClassNotFoundException: io.smartdatalake.workflow.dataobject.UnicornFileDataObject</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>Internally, the types you choose are represented by Scala Classes.
These classes define all characteristics of a DataObject and all it&#x27;s parameters, i.e. the url we defined in our WebserviceFileDataObject.
This also explains why you get a <em>ClassNotFoundException</em> in this case.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="try-fixing-it"></a>Try fixing it<a aria-hidden="true" class="hash-link" href="#try-fixing-it" title="Direct link to heading">#</a></h2><p>Try to fix one of the errors and keep the other one to see what happens: Nothing.
Why is that? </p><p>SDL validates your configuration file(s) before executing it&#x27;s contents.
If the configuration does not make sense, it will abort before executing anything to minimize the chance that you&#x27;ll end up in an inconsistent state.</p><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>During validation, the whole configuration is checked, not just the parts you are trying to execute.
If you have large configuration files, it can sometimes be confusing to see an error and realize that
it&#x27;s not on the part you are currently working on but in a different section.</p></div></div><p>SDL is built to detect configuration errors as early as possible (early-validation). It does this by going through several phases.</p><ol><li>Validate configuration<br>validate superfluous attributes, missing mandatory attributes, attribute content and consistency when referencing other configuration objects.</li><li><em>Prepare</em> phase<br>validate preconditions, e.g. connections and existence of tables and directories.</li><li><em>Init</em> phase<br>executes the whole feed <em>without any data</em> to spot incompatibilities between the Data Objects that cannot be spotted
by just looking at the config file. For example a column which doesn&#x27;t exist but is referenced in a later Action will cause the init phase to fail.</li><li><em>Exec</em> phase<br>only if all previous phases have been passed successfully, execution is started.</li></ol><p>When running SDL, you can clearly find &quot;prepare&quot;, &quot;init&quot; and &quot;exec&quot; steps for every Action in the logs.</p><p>Now is a good time to fix both errors in your configuration file and execute the action again.</p><p>Early-validation is a core feature of SDL and will become more and more valuable with the increasing complexity of your data pipelines.
Speaking of increasing complexity: In the next step, we will begin transforming our data.</p></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/sdl-docs/docs/getting-started/get-departures"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Get Departures</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/sdl-docs/docs/getting-started/select-columns"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Select Columns Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_ thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#goal" class="table-of-contents__link">Goal</a></li><li><a href="#solution" class="table-of-contents__link">Solution</a></li><li><a href="#mess-up-the-solution" class="table-of-contents__link">Mess Up the Solution</a></li><li><a href="#try-fixing-it" class="table-of-contents__link">Try fixing it</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/sdl-docs/docs/">Getting started</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/smart-data-lake/smart-data-lake" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a href="https://github.com/smart-data-lake/smart-data-lake/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub Issues</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/sdl-docs/blog">Blog</a></li><li class="footer__item"><a href="https://www.elca.ch" target="_blank" rel="noopener noreferrer" class="footer__link-item">ELCA</a></li></ul></div></div><div class="text--center"><div>Copyright Â© 2021 Smart Data Lake, Built with Docusaurus.</div></div></div></footer></div>
<script src="/sdl-docs/styles.0d373285.js"></script>
<script src="/sdl-docs/runtime~main.62826e6e.js"></script>
<script src="/sdl-docs/main.2f23556c.js"></script>
<script src="/sdl-docs/1.f3842da1.js"></script>
<script src="/sdl-docs/29.75129747.js"></script>
<script src="/sdl-docs/30.34993a47.js"></script>
<script src="/sdl-docs/935f2afb.b9ea6650.js"></script>
<script src="/sdl-docs/28.5de40dea.js"></script>
<script src="/sdl-docs/3e802625.9149d016.js"></script>
</body>
</html>